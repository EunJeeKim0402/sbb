<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container my-3">
<style>
	body {
	    font-family: Arial, sans-serif;
	    margin: 0;
	    padding: 0;
	}

	.product-detail-container {
	    display: flex;
		width: 100%;
	}

	.product-image img {
	    width: 550px;
	    height: 550px;
	    object-fit: cover;
	    margin-right: 20px;
	}

	.product-info {
	    width: 100%;
		padding : 30px 10px 10px 110px;
	}

	.product-name {
	    font-size: 1.5em;
	    margin-bottom: 10px;
	}

	.product-description {
	    font-size: 1.1em;
	    margin-bottom: 15px;
	}

	.product-price {
	    font-size: 1.5em;
	    color: #333;
	    margin-bottom: 20px;
		margin-top: 20px;
	}

	.product-options {
	    margin-bottom: 20px;
		background-color: rgb(240, 240, 240);
		padding: 30px;
	}

	.add-to-cart-button {
	    background-color: #007bff;
	    color: white;
	    padding: 10px 20px;
	    border: none;
	    cursor: pointer;
	    font-size: 1.2em;
	}

	.add-to-cart-button:hover {
	    background-color: #0056b3;
	}

	.product-reviews {
	    margin-top: 40px;
	}

	.review-item {
	    margin-bottom: 20px;
	}

	.review-author {
	    font-weight: bold;
	}

	.review-rating {
	    color: #ffcc00;
	}
	
	.product-description2 {
	    font-size: 0.9em;
	}
	.product-description2 label {
		font-weight: bold;
		margin-right: 10px;
		margin-bottom: 30px;
	}

</style>
	<div class="product-detail-container">
	        <div class="product-image">
	            <img th:src="@{${product.productImage}}" alt="상품 이미지">
	        </div>
	        <div class="product-info">
	            <h1 class="product-name" th:text="${product.productName}"></h1>
	            <p class="product-description" th:text="${product.productType}"></p>
	            <div class="product-price">
	                <span class="price-value" th:text="${product.productPrice}"></span>
					<span class="price-label"> 원</span>
	            </div>
				<hr />
				<div class="product-description2">
				    <label>구매혜택</label>
				    <span>1000포인트 적립 예정</span>
				</div>
	            <div class="product-options">
	                <label for="quantity">수량</label>
					<hr />
					<form name="form1">
					    <div>
					        <input type="number" id="quantity" name="quantity" value="1" min="1">
					        <span class="" id="price-label"></span>
					        <span> 원</span>
					    </div>
					    <input type="button" value=" - " onclick="del();">
					    <input type="hidden" name="sell_price" id="sell_price" value="5000"> <!-- 예: 5000원 -->
					    <input type="text" name="amounts" id="amounts" value="1" size="3">
					    <input type="button" value=" + " onclick="add();">
					    <div>금액: <span id="my_sum">5,000</span> 원</div>
					</form>
				</div>
	            <div class="add-to-cart">
	                <button type="button" class="add-to-cart-button">장바구니에 추가</button>
	            </div>
	        </div>
	    </div>
	    <div class="product-reviews">
	        <h2>상품 리뷰</h2>
	        <div class="reviews-list">
	            <!-- 리뷰 목록을 동적으로 표시할 곳 -->
	            <div class="review-item">
	                <p class="review-author">작성자: 김떙떙</p>
	                <p class="review-text">리뷰내용~~!</p>
	                <span class="review-rating">평점: ★★★★☆</span>
	            </div>
	        </div>
	    </div>
</div>
<script layout:fragment="script" type="text/javascript">
	/*
	const delete_elements = document.getElementsByClassName("delete");
	Array.from(delete_elements).forEach(function(element) {
		element.addEventListener('click', function() {
			if(confirm("정말로 삭제하시겠습니까?")) {
				location.href = this.dataset.uri;
			};
		});
	});
	
	const recommend_elements = document.getElementsByClassName("recommend");
	Array.from(recommend_elements).forEach(function(element) {
		element.addEventListener('click', function() {
			if(confirm("정말로 추천하시겠습니까?")) {
				location.href = this.dataset.uri;
			};
		});
	});
	*/
	function add() {
	    const amounts = document.getElementById("amounts");
	    const sellPrice = document.getElementById("sell_price");
	    let quantity = parseInt(amounts.value); // 수량 가져오기
	    const price = parseInt(sellPrice.value); // 가격 가져오기

	    amounts.value = ++quantity; // 수량 증가
	    const sum = quantity * price; // 합계 계산
	    document.getElementById("my_sum").innerText = sum.toLocaleString('ko-KR'); // 금액 업데이트
	}

	function del() {
	    const amounts = document.getElementById("amounts");
	    const sellPrice = document.getElementById("sell_price");
	    let quantity = parseInt(amounts.value); // 수량 가져오기
	    const price = parseInt(sellPrice.value); // 가격 가져오기

	    if (quantity > 1) {
	        amounts.value = --quantity; // 수량 감소
	        const sum = quantity * price; // 합계 계산
	        document.getElementById("my_sum").innerText = sum.toLocaleString('ko-KR'); // 금액 업데이트
	    }
	}

</script>
</html>

